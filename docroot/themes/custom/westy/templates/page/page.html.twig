{#
/**
  * @file
  * Template for the main page.
  */
#}
{% set has_page_side = page.side|render|striptags|trim is not empty %}
{% set has_page_menu = page.menu|render|striptags|trim is not empty %}
{% set attributes = create_attribute({'class': [
  "page",
  has_page_side ? "page--with-side",
  has_page_menu ? "page--with-menu",
  (not has_page_menu and not has_page_side) ? "page--without-sidebars",
]}) %}

<div{{attributes}}>
  {% block alerts %}
    {% if page.alerts %}
      {{ page.alerts }}
    {% endif %}
  {% endblock %}

  <header class="page__header">
    <div class="container">
      {% include '@westy/page/page.header.html.twig' %}
    </div>
  </header>

  <main class="container">

    {% if page.header %}
      <header class="page__sub_header mb-3">
        {{ page.header }}
      </header>
    {% endif %}

    <div class="row">
      {% if has_page_menu %}
        <div class="page__menu col-lg-3 col-md-3 col-sm-12">
          {{ page.menu }}
        </div>
      {% endif %}

      {% if page.content %}
        <div class="page__content col">
            {{ page.content }}
        </div>
      {% endif %}


      {% if has_page_side %}
        <div class="page__side col-lg-2 col-md-12 col-sm-12">
            {{ page.side }}
        </div>
      {% endif %}

      {% if has_page_menu %}
    </div>
    
  </main>

  {% if page.footer %}
    <footer class="page__footer mt-5">
      <div class="container-fluid">
        {{ page.footer }}
      </div>
    </footer>
  {% endif %}
</div>
